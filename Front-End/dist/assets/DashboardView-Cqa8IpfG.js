var be=Object.defineProperty;var Ce=(k,r,n)=>r in k?be(k,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):k[r]=n;var xe=(k,r,n)=>Ce(k,typeof r!="symbol"?r+"":r,n);import{r as L,c as U,o as Q,a as we,d as X,b as m,e as c,f as I,g as E,u as l,w as q,h as e,t as i,n as B,i as P,j as K,m as he,k as se,F as Z,l as H,p as ye,q as z,s as ke,v as ve,T as $e}from"./index-CAHFE_9E.js";import{A as Me,a as N,b as Le}from"./PathologistList.vue_vue_type_style_index_0_scoped_45f5ffeb_lang-FwbajLSj.js";import{_ as oe,a as fe}from"./ActionButton.vue_vue_type_script_setup_true_lang-BQdFEsew.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{P as je}from"./PathologistList-CbsQJHAr.js";import{_ as Ee}from"./PreviewButton.vue_vue_type_script_setup_true_lang-CTpBWkFw.js";import"./casesApi.service-DwGpQD03.js";class Pe{constructor(){xe(this,"baseUrl",Me.ENDPOINTS)}async getEstadisticasPacientes(){try{const r=await N.get(`${this.baseUrl.PATIENTS}/estadisticas`);return(r==null?void 0:r.data)??r}catch(r){throw r}}async getEstadisticasCasos(){try{const r=await N.get(`${this.baseUrl.CASES}/estadisticas`);return(r==null?void 0:r.data)??r}catch(r){throw r}}async getEstadisticasMuestras(){try{const r=await N.get(`${this.baseUrl.CASES}/estadisticas-muestras`);return(r==null?void 0:r.data)??r}catch(r){throw r}}async getMetricasDashboard(){try{const[r,n]=await Promise.all([this.getEstadisticasPacientes(),this.getEstadisticasCasos()]);return{pacientes:{mes_actual:r.pacientes_mes_actual,mes_anterior:r.pacientes_mes_anterior,cambio_porcentual:r.cambio_porcentual},casos:{mes_actual:n.casos_mes_actual,mes_anterior:n.casos_mes_anterior,cambio_porcentual:n.cambio_porcentual}}}catch(r){throw r}}async getCasosPorMes(r){try{const n=r||new Date().getFullYear(),x=await N.get(`${this.baseUrl.CASES}/casos-por-mes/${n}`),f=(x==null?void 0:x.data)??x;return!f||!Array.isArray(f.datos)?{datos:[0,0,0,0,0,0,0,0,0,0,0,0],total:0,año:n}:f}catch{const x=r||new Date().getFullYear();return{datos:[0,0,0,0,0,0,0,0,0,0,0,0],total:0,año:x}}}async getCasosUrgentes(r={}){try{const n={};r.patologo&&(n.patologo_codigo=r.patologo),r.estado&&(n.estado=r.estado);const x=`${this.baseUrl.CASES}/buscar?skip=0&limit=1000`,_=await N.post(x,n),f=Array.isArray(_)?_:(_==null?void 0:_.data)??(_==null?void 0:_.items)??[],v=this.transformarCasosUrgentes(f).filter(h=>h.dias_en_sistema>6&&h.estado!=="Completado");v.sort((h,C)=>{const y=t=>{const M=t.match(/(\d{4})-(\d{5})/);if(M){const j=parseInt(M[1]),A=parseInt(M[2]);return j*1e5+A}return 0},p=y(h.codigo);return y(C.codigo)-p});const b=r.limite||v.length;return v.slice(0,b)}catch(n){throw n}}async getEstadisticasOportunidad(){var r,n,x;try{const _=await N.get(`${this.baseUrl.CASES}/estadisticas-oportunidad-mensual`),d=(_==null?void 0:_.data)??_;return{porcentaje_oportunidad:typeof(d==null?void 0:d.porcentaje_oportunidad)=="number"?d.porcentaje_oportunidad:0,cambio_porcentual:typeof(d==null?void 0:d.cambio_porcentual)=="number"?d.cambio_porcentual:0,tiempo_promedio:typeof(d==null?void 0:d.tiempo_promedio)=="number"?d.tiempo_promedio:0,casos_dentro_oportunidad:typeof(d==null?void 0:d.casos_dentro_oportunidad)=="number"?d.casos_dentro_oportunidad:0,casos_fuera_oportunidad:typeof(d==null?void 0:d.casos_fuera_oportunidad)=="number"?d.casos_fuera_oportunidad:0,total_casos_mes_anterior:typeof(d==null?void 0:d.total_casos_mes_anterior)=="number"?d.total_casos_mes_anterior:0,mes_anterior:{nombre:((r=d==null?void 0:d.mes_anterior)==null?void 0:r.nombre)||"Mes anterior",inicio:((n=d==null?void 0:d.mes_anterior)==null?void 0:n.inicio)||"",fin:((x=d==null?void 0:d.mes_anterior)==null?void 0:x.fin)||""}}}catch{return{porcentaje_oportunidad:0,cambio_porcentual:0,tiempo_promedio:0,casos_dentro_oportunidad:0,casos_fuera_oportunidad:0,total_casos_mes_anterior:0,mes_anterior:{nombre:"Mes anterior",inicio:"",fin:""}}}}transformarCasosUrgentes(r){return r.map(n=>{var v,b,$,h,C;const x=new Date(n.fecha_creacion),f=Math.floor((new Date().getTime()-x.getTime())/(1e3*60*60*24)),d=[];return n.muestras&&Array.isArray(n.muestras)&&n.muestras.forEach(y=>{y.pruebas&&Array.isArray(y.pruebas)&&y.pruebas.forEach(p=>{const a=p.id||"",t=p.nombre||"";if(a){const M=t?`${a} - ${t}`:a;d.push(M)}else t&&d.push(t)})}),{codigo:n.CasoCode||n.codigo||n.id||"N/A",paciente:{nombre:((v=n.paciente)==null?void 0:v.nombre)||"N/A",cedula:((b=n.paciente)==null?void 0:b.cedula)||"N/A",entidad:((h=($=n.paciente)==null?void 0:$.entidad_info)==null?void 0:h.nombre)||"Entidad"},pruebas:d,patologo:((C=n.patologo_asignado)==null?void 0:C.nombre)||"Sin asignar",fecha_creacion:n.fecha_creacion,estado:n.estado,dias_en_sistema:f}})}}const te=new Pe;function re(){const k=L(!1),r=L(null),n=L(null),x=L(null),_=L([]),f=L(null),d=L(null),v=L(!1),b=L(!1),$=L(!1),h=L(!1),C=L(!1),y=U(()=>{var w;return((w=x.value)==null?void 0:w.total)||0}),p=U(()=>new Date().getFullYear()),a=async()=>{try{v.value=!0,r.value=null,n.value=await te.getMetricasDashboard()}catch(w){throw r.value=w.message||"Error al cargar las métricas del dashboard",w}finally{v.value=!1}},t=async w=>{try{b.value=!0,r.value=null,await new Promise(S=>setTimeout(S,500)),x.value=await te.getCasosPorMes(w)}catch(S){throw r.value=S.message||"Error al cargar estadísticas de casos por mes",S}finally{b.value=!1}},M=async(w={})=>{try{$.value=!0,r.value=null,_.value=await te.getCasosUrgentes(w)}catch(S){throw r.value=S.message||"Error al cargar casos urgentes",S}finally{$.value=!1}},j=async()=>{try{h.value=!0,r.value=null,f.value=await te.getEstadisticasOportunidad()}catch(w){throw r.value=w.message||"Error al cargar estadísticas de oportunidad",w}finally{h.value=!1}},A=async()=>{try{C.value=!0,r.value=null,d.value=await te.getEstadisticasMuestras()}catch(w){throw r.value=w.message||"Error al cargar estadísticas de muestras",w}finally{C.value=!1}},D=async()=>{try{k.value=!0,r.value=null,await Promise.all([a(),t(),M({limite:10}),j(),A()])}catch(w){r.value=w.message||"Error al cargar los datos del dashboard"}finally{k.value=!1}},Y=async w=>{try{switch(w){case"metricas":await a();break;case"casos-mes":await t();break;case"casos-urgentes":await M();break;case"oportunidad":await j();break;case"muestras":await A();break;case"todos":await D();break}}catch{}},V=()=>{r.value=null},G=w=>new Intl.NumberFormat("es-CO").format(w),W=w=>w>=0?"bg-green-50 text-green-600 hover:bg-green-100":"bg-red-50 text-red-600 hover:bg-red-100",O=w=>{a(),M()};return Q(()=>{window.addEventListener("case-created",O)}),we(()=>{window.removeEventListener("case-created",O)}),{isLoading:k,error:r,metricas:n,casosPorMes:x,casosUrgentes:_,estadisticasOportunidad:f,estadisticasMuestras:d,loadingMetricas:v,loadingCasosPorMes:b,loadingCasosUrgentes:$,loadingOportunidad:h,loadingMuestras:C,totalCasosAño:y,añoActual:p,cargarMetricas:a,cargarCasosPorMes:t,cargarCasosUrgentes:M,cargarEstadisticasOportunidad:j,cargarEstadisticasMuestras:A,cargarTodosDatos:D,recargarDatos:Y,limpiarError:V,formatearNumero:G,obtenerClasePorcentaje:W}}const Ae={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:gap-6"},Ie={class:"flex items-end justify-between mt-3"},Be={class:"mt-1 font-bold text-gray-800 text-lg transition-colors duration-300 group-hover:text-blue-600"},Se={class:"fill-current animate-bounce",width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ne={key:0,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.56462 1.62393C5.70193 1.47072 5.90135 1.37432 6.12329 1.37432C6.1236 1.37432 6.12391 1.37432 6.12422 1.37432C6.31631 1.37415 6.50845 1.44731 6.65505 1.59381L9.65514 4.5918C9.94814 4.88459 9.94831 5.35947 9.65552 5.65246C9.36273 5.94546 8.88785 5.94562 8.59486 5.65283L6.87329 3.93247L6.87329 10.125C6.87329 10.5392 6.53751 10.875 6.12329 10.875C5.70908 10.875 5.37329 10.5392 5.37329 10.125L5.37329 3.93578L3.65516 5.65282C3.36218 5.94562 2.8873 5.94547 2.5945 5.65248C2.3017 5.35949 2.30185 4.88462 2.59484 4.59182L5.56462 1.62393Z",fill:""},Ve={key:1,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.31462 10.3761C5.45194 10.5293 5.65136 10.6257 5.87329 10.6257C5.8736 10.6257 5.8739 10.6257 5.87421 10.6257C6.0663 10.6259 6.25845 10.5527 6.40505 10.4062L9.40514 7.4082C9.69814 7.11541 9.69831 6.64054 9.40552 6.34754C9.11273 6.05454 8.63785 6.05438 8.34486 6.34717L6.62329 8.06753L6.62329 1.875C6.62329 1.46079 6.28751 1.125 5.87329 1.125C5.45908 1.125 5.12329 1.46079 5.12329 1.875L5.12329 8.06422L3.40516 6.34719C3.11218 6.05439 2.6373 6.05454 2.3445 6.34752C2.0517 6.64051 2.05185 7.11538 2.34484 7.40818L5.31462 10.3761Z",fill:""},ze={class:"flex items-end justify-between mt-3"},Te={class:"mt-1 font-bold text-gray-800 text-lg transition-colors duration-300 group-hover:text-blue-600"},Ue={class:"fill-current animate-bounce",width:"10",height:"10",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},De={key:0,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.56462 1.62393C5.70193 1.47072 5.90135 1.37432 6.12329 1.37432C6.1236 1.37432 6.12391 1.37432 6.12422 1.37432C6.31631 1.37415 6.50845 1.44731 6.65505 1.59381L9.65514 4.5918C9.94814 4.88459 9.94831 5.35947 9.65552 5.65246C9.36273 5.94546 8.88785 5.94562 8.59486 5.65283L6.87329 3.93247L6.87329 10.125C6.87329 10.5392 6.53751 10.875 6.12329 10.875C5.70908 10.875 5.37329 10.5392 5.37329 10.125L5.37329 3.93578L3.65516 5.65282C3.36218 5.94562 2.8873 5.94547 2.5945 5.65248C2.3017 5.35949 2.30185 4.88462 2.59484 4.59182L5.56462 1.62393Z",fill:""},Oe={key:1,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.31462 10.3761C5.45194 10.5293 5.65136 10.6257 5.87329 10.6257C5.8736 10.6257 5.8739 10.6257 5.87421 10.6257C6.0663 10.6259 6.25845 10.5527 6.40505 10.4062L9.40514 7.4082C9.69814 7.11541 9.69831 6.64054 9.40552 6.34754C9.11273 6.05454 8.63785 6.05438 8.34486 6.34717L6.62329 8.06753L6.62329 1.875C6.62329 1.46079 6.28751 1.125 5.87329 1.125C5.45908 1.125 5.12329 1.46079 5.12329 1.875L5.12329 8.06422L3.40516 6.34719C3.11218 6.05439 2.6373 6.05454 2.3445 6.34752C2.0517 6.64051 2.05185 7.11538 2.34484 7.40818L5.31462 10.3761Z",fill:""},Fe={key:0,class:"col-span-full p-4 bg-red-50 border border-red-200 rounded-lg text-red-600"},Re={class:"text-sm"},Ze=X({__name:"MetricsBlocks",setup(k){const{metricas:r,loadingMetricas:n,error:x,cargarMetricas:_,formatearNumero:f,obtenerClasePorcentaje:d}=re(),v=r,b=async()=>{await Promise.all([_()])};return Q(()=>{b()}),($,h)=>(c(),m("div",Ae,[I(l(oe),{class:"p-4 md:p-5"},{default:q(()=>{var C,y,p;return[h[1]||(h[1]=e("div",{class:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-lg transition-colors duration-300 group-hover:bg-blue-50"},[e("svg",{class:"fill-gray-800 transition-colors duration-300 group-hover:fill-blue-600",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.80443 5.60156C7.59109 5.60156 6.60749 6.58517 6.60749 7.79851C6.60749 9.01185 7.59109 9.99545 8.80443 9.99545C10.0178 9.99545 11.0014 9.01185 11.0014 7.79851C11.0014 6.58517 10.0178 5.60156 8.80443 5.60156ZM5.10749 7.79851C5.10749 5.75674 6.76267 4.10156 8.80443 4.10156C10.8462 4.10156 12.5014 5.75674 12.5014 7.79851C12.5014 9.84027 10.8462 11.4955 8.80443 11.4955C6.76267 11.4955 5.10749 9.84027 5.10749 7.79851ZM4.86252 15.3208C4.08769 16.0881 3.70377 17.0608 3.51705 17.8611C3.48384 18.0034 3.5211 18.1175 3.60712 18.2112C3.70161 18.3141 3.86659 18.3987 4.07591 18.3987H13.4249C13.6343 18.3987 13.7992 18.3141 13.8937 18.2112C13.9797 18.1175 14.017 18.0034 13.9838 17.8611C13.7971 17.0608 13.4132 16.0881 12.6383 15.3208C11.8821 14.572 10.6899 13.955 8.75042 13.955C6.81096 13.955 5.61877 14.572 4.86252 15.3208ZM3.8071 14.2549C4.87163 13.2009 6.45602 12.455 8.75042 12.455C11.0448 12.455 12.6292 13.2009 13.6937 14.2549C14.7397 15.2906 15.2207 16.5607 15.4446 17.5202C15.7658 18.8971 14.6071 19.8987 13.4249 19.8987H4.07591C2.89369 19.8987 1.73504 18.8971 2.05628 17.5202C2.28015 16.5607 2.76117 15.2906 3.8071 14.2549ZM15.3042 11.4955C14.4702 11.4955 13.7006 11.2193 13.0821 10.7533C13.3742 10.3314 13.6054 9.86419 13.7632 9.36432C14.1597 9.75463 14.7039 9.99545 15.3042 9.99545C16.5176 9.99545 17.5012 9.01185 17.5012 7.79851C17.5012 6.58517 16.5176 5.60156 15.3042 5.60156C14.7039 5.60156 14.1597 5.84239 13.7632 6.23271C13.6054 5.73284 13.3741 5.26561 13.082 4.84371C13.7006 4.37777 14.4702 4.10156 15.3042 4.10156C17.346 4.10156 19.0012 5.75674 19.0012 7.79851C19.0012 9.84027 17.346 11.4955 15.3042 11.4955ZM19.9248 19.8987H16.3901C16.7014 19.4736 16.9159 18.969 16.9827 18.3987H19.9248C20.1341 18.3987 20.2991 18.3141 20.3936 18.2112C20.4796 18.1175 20.5169 18.0034 20.4837 17.861C20.2969 17.0607 19.913 16.088 19.1382 15.3208C18.4047 14.5945 17.261 13.9921 15.4231 13.9566C15.2232 13.6945 14.9995 13.437 14.7491 13.1891C14.5144 12.9566 14.262 12.7384 13.9916 12.5362C14.3853 12.4831 14.8044 12.4549 15.2503 12.4549C17.5447 12.4549 19.1291 13.2008 20.1936 14.2549C21.2395 15.2906 21.7206 16.5607 21.9444 17.5202C22.2657 18.8971 21.107 19.8987 19.9248 19.8987Z",fill:""})])],-1)),e("div",Ie,[e("div",null,[h[0]||(h[0]=e("span",{class:"text-xs text-gray-500 transition-colors duration-300 group-hover:text-gray-700"},"Pacientes ingresados este mes",-1)),e("h4",Be,i(l(n)?"...":l(f)(((y=(C=l(v))==null?void 0:C.pacientes)==null?void 0:y.mes_actual)||0)),1)]),!l(n)&&((p=l(v))!=null&&p.pacientes)?(c(),m("span",{key:0,class:B([l(d)(l(v).pacientes.cambio_porcentual),"flex items-center gap-1 rounded-full py-0.5 pl-2 pr-2.5 text-xs font-medium transition-all duration-300"])},[(c(),m("svg",Se,[l(v).pacientes.cambio_porcentual>=0?(c(),m("path",Ne)):(c(),m("path",Ve))])),P(" "+i(Math.abs(l(v).pacientes.cambio_porcentual))+"% ",1)],2)):E("",!0)])]}),_:1}),I(l(oe),{class:"p-4 md:p-5"},{default:q(()=>{var C,y,p;return[h[3]||(h[3]=e("div",{class:"flex items-center justify-center w-10 h-10 bg-gray-100 rounded-lg transition-colors duration-300 group-hover:bg-blue-50"},[e("svg",{class:"fill-gray-800 transition-colors duration-300 group-hover:fill-blue-600",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.665 3.75621C11.8762 3.65064 12.1247 3.65064 12.3358 3.75621L18.7807 6.97856L12.3358 10.2009C12.1247 10.3065 11.8762 10.3065 11.665 10.2009L5.22014 6.97856L11.665 3.75621ZM4.29297 8.19203V16.0946C4.29297 16.3787 4.45347 16.6384 4.70757 16.7654L11.25 20.0366V11.6513C11.1631 11.6205 11.0777 11.5843 10.9942 11.5426L4.29297 8.19203ZM12.75 20.037L19.2933 16.7654C19.5474 16.6384 19.7079 16.3787 19.7079 16.0946V8.19202L13.0066 11.5426C12.9229 11.5844 12.8372 11.6208 12.75 11.6516V20.037ZM13.0066 2.41456C12.3732 2.09786 11.6277 2.09786 10.9942 2.41456L4.03676 5.89319C3.27449 6.27432 2.79297 7.05342 2.79297 7.90566V16.0946C2.79297 16.9469 3.27448 17.726 4.03676 18.1071L10.9942 21.5857L11.3296 20.9149L10.9942 21.5857C11.6277 21.9024 12.3732 21.9024 13.0066 21.5857L19.9641 18.1071C20.7264 17.726 21.2079 16.9469 21.2079 16.0946V7.90566C21.2079 7.05342 20.7264 6.27432 19.9641 5.89319L13.0066 2.41456Z",fill:""})])],-1)),e("div",ze,[e("div",null,[h[2]||(h[2]=e("span",{class:"text-xs text-gray-500 transition-colors duration-300 group-hover:text-gray-700"},"Casos ingresados este mes",-1)),e("h4",Te,i(l(n)?"...":l(f)(((y=(C=l(v))==null?void 0:C.casos)==null?void 0:y.mes_actual)||0)),1)]),!l(n)&&((p=l(v))!=null&&p.casos)?(c(),m("span",{key:0,class:B([l(d)(l(v).casos.cambio_porcentual),"flex items-center gap-1 rounded-full py-0.5 pl-2 pr-2.5 text-xs font-medium transition-all duration-300"])},[(c(),m("svg",Ue,[l(v).casos.cambio_porcentual>=0?(c(),m("path",De)):(c(),m("path",Oe))])),P(" "+i(Math.abs(l(v).casos.cambio_porcentual))+"% ",1)],2)):E("",!0)])]}),_:1}),l(x)?(c(),m("div",Fe,[e("p",Re,[h[4]||(h[4]=e("strong",null,"Error al cargar estadísticas:",-1)),P(" "+i(l(x)),1)]),e("button",{onClick:b,class:"mt-2 text-xs underline hover:no-underline"}," Reintentar ")])):E("",!0)]))}}),He=ae(Ze,[["__scopeId","data-v-fc0faf07"]]),qe={class:"text-lg font-semibold text-gray-800"},Ye={key:0,class:"flex items-center justify-center py-8"},Ge={key:1,class:"flex items-center justify-center py-8"},We={class:"flex flex-col items-center space-y-3"},Je={class:"text-sm text-red-500"},Ke={key:2,class:"max-w-full overflow-x-auto custom-scrollbar"},Qe={id:"chartOne",class:"-ml-5 min-w-[650px] xl:min-w-full pl-2"},Xe={key:3,class:"flex items-center justify-center py-8"},et={class:"flex flex-col items-center space-y-3"},tt={class:"text-center"},st={class:"text-gray-400 text-xs mt-1"},ot={key:4,class:"mt-4 text-center"},at={class:"text-sm text-gray-500"},rt={class:"font-semibold text-gray-700"},nt={key:0,class:"text-xs text-amber-600 mt-1"},it=X({__name:"CasesByMonth",setup(k){const{casosPorMes:r,loadingCasosPorMes:n,error:x,cargarCasosPorMes:_,totalCasosAño:f,añoActual:d}=re(),v=r,b=f,$=U(()=>{var a;const y=(a=v.value)==null?void 0:a.datos;return[{name:"Casos",data:Array.isArray(y)?y:[0,0,0,0,0,0,0,0,0,0,0,0]}]}),h=L({colors:["#3D8D5B"],chart:{fontFamily:"Outfit, sans-serif",type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"39%",borderRadius:5,borderRadiusApplication:"end"}},dataLabels:{enabled:!1},stroke:{show:!0,width:4,colors:["transparent"]},xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],axisBorder:{show:!1},axisTicks:{show:!1}},legend:{show:!0,position:"top",horizontalAlign:"left",fontFamily:"Outfit",markers:{radius:99}},yaxis:{title:!1},grid:{yaxis:{lines:{show:!0}}},fill:{opacity:1},tooltip:{x:{show:!1},y:{formatter:function(y){return y.toString()}}}}),C=async()=>{try{await _()}catch{}};return Q(()=>{C()}),(y,p)=>(c(),K(l(oe),{class:"overflow-hidden px-5 pt-5 sm:px-6 sm:pt-6"},{default:q(()=>[e("div",null,[e("h3",qe," Casos ingresados por mes ("+i(l(d))+") ",1)]),l(n)?(c(),m("div",Ye,[...p[0]||(p[0]=[e("div",{class:"flex flex-col items-center space-y-3"},[e("svg",{class:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]),e("p",{class:"text-sm text-gray-500"},"Cargando estadísticas...")],-1)])])):l(x)?(c(),m("div",Ge,[e("div",We,[p[1]||(p[1]=e("svg",{class:"h-8 w-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),e("p",Je,i(l(x)),1),e("button",{onClick:C,class:"text-sm text-blue-500 hover:text-blue-600 underline"}," Intentar nuevamente ")])])):l(b)>0?(c(),m("div",Ke,[e("div",Qe,[I(l(he),{type:"bar",height:"180",options:h.value,series:$.value},null,8,["options","series"])])])):(c(),m("div",Xe,[e("div",et,[p[3]||(p[3]=e("svg",{class:"h-12 w-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),e("div",tt,[p[2]||(p[2]=e("p",{class:"text-gray-500 text-sm font-medium"},"No hay datos para mostrar",-1)),e("p",st,"No se encontraron casos para el año "+i(l(d)),1)])])])),!l(n)&&!l(x)?(c(),m("div",ot,[e("p",at,[P(" Total de casos en "+i(l(d))+": ",1),e("span",rt,i(l(b)),1)]),l(b)===0?(c(),m("p",nt," No se encontraron casos para el año "+i(l(d)),1)):E("",!0)])):E("",!0)]),_:1}))}}),lt=ae(it,[["__scopeId","data-v-c8dbd426"]]),dt={class:"px-4 sm:px-6 py-4 border-b border-gray-200"},ct={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},ut={class:"flex-1 min-w-0"},pt={class:"mt-1 text-sm text-gray-500"},mt={class:"w-full lg:w-80 flex-shrink-0"},gt={class:"p-0"},xt={key:0,class:"flex flex-col items-center justify-center space-y-4 py-8 sm:py-12"},ft={key:1,class:"flex flex-col items-center justify-center space-y-4 py-8 sm:py-12"},ht={class:"text-center px-4"},yt={class:"text-sm text-red-600 mb-4 max-w-sm mx-auto"},vt={key:2,class:"overflow-hidden rounded-xl border-0 bg-white"},_t={class:"hidden lg:block max-w-full overflow-x-auto custom-scrollbar"},bt={class:"min-w-full text-base"},Ct={class:"border-b border-gray-200 bg-gray-50"},wt=["onClick"],kt={key:0},$t={class:"divide-y divide-gray-200"},Mt={class:"px-1 py-3 text-center"},Lt={class:"font-medium text-gray-800"},jt={class:"px-2 py-3 text-center"},Et={class:"text-gray-800 text-sm"},Pt={class:"text-gray-500 text-xs"},At={class:"px-2 py-3 text-center"},It={class:"text-gray-800 text-sm"},Bt={class:"text-gray-500 text-xs"},St={class:"px-3 py-3 text-center"},Nt={class:"flex flex-wrap gap-1 justify-center max-w-full"},Vt=["title"],zt={class:"truncate test-code"},Tt={key:0,class:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-blue-100 text-blue-600 text-[10px] font-bold flex-shrink-0"},Ut=["title"],Dt={class:"px-2 py-3 text-center"},Ot={class:"px-2 py-3 text-center"},Ft={class:"text-gray-800 text-sm"},Rt={class:"px-2 py-3 text-center"},Zt={class:"flex gap-2 justify-center min-w-[120px]"},Ht=["onClick"],qt=["onClick"],Yt=["onClick"],Gt=["onClick","title"],Wt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Jt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Kt={class:"lg:hidden"},Qt={class:"space-y-3 p-4"},Xt={class:"flex items-start justify-between mb-3"},es={class:"flex-1 min-w-0"},ts={class:"font-semibold text-gray-800 text-sm truncate"},ss={class:"text-gray-600 text-xs mt-1"},os={class:"text-gray-500 text-xs"},as={class:"flex-shrink-0 ml-3"},rs={class:"grid grid-cols-2 gap-3 mb-3 text-xs"},ns={class:"text-gray-800 font-medium"},is={class:"text-gray-800 font-medium"},ls={class:"text-gray-800 font-medium"},ds={class:"mb-3"},cs={class:"flex flex-wrap gap-1 justify-center"},us=["title"],ps={class:"truncate max-w-[60px] test-code"},ms={key:0,class:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full bg-blue-100 text-blue-600 text-[10px] font-bold flex-shrink-0"},gs=["title"],xs={class:"flex gap-2 pt-2 border-t border-gray-100"},fs=["onClick"],hs=["onClick"],ys=["onClick"],vs=["onClick"],_s={key:0,class:"text-center py-8"},bs={class:"flex flex-col items-center space-y-2"},Cs={class:"text-center"},ws={class:"text-gray-400 text-xs mt-1"},ks={class:"px-4 sm:px-5 py-4 border-t border-gray-200 bg-gray-50"},$s={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Ms={class:"flex items-center gap-2 text-sm text-gray-500"},Ls=["value"],js=["value"],Es={class:"flex items-center justify-center gap-2"},Ps=["disabled"],As={class:"flex items-center gap-1 text-sm text-gray-500"},Is={class:"font-medium"},Bs={class:"hidden sm:inline"},Ss={class:"sm:hidden"},Ns=["disabled"],Vs=X({__name:"UrgentCases",emits:["show-details","edit","perform","validate"],setup(k,{emit:r}){const n=r,{casosUrgentes:x,loadingCasosUrgentes:_,error:f,cargarCasosUrgentes:d}=re(),v=ye(),b=f,$=L(""),h=L("codigo"),C=L("desc"),y=U(()=>x.value.slice().sort((u,s)=>{let o,g;if(h.value==="codigo"){const F=ne=>{const J=ne.match(/(\d{4})-(\d{5})/);if(J){const ge=parseInt(J[1]),R=parseInt(J[2]);return ge*1e5+R}return 0};o=F(u.codigo),g=F(s.codigo)}else h.value==="paciente"?(o=u.paciente.nombre,g=s.paciente.nombre):h.value==="pruebas"?(o=u.pruebas.join(", "),g=s.pruebas.join(", ")):h.value==="patologo"?(o=u.patologo,g=s.patologo):h.value==="fechaCreacion"?(o=new Date(u.fecha_creacion),g=new Date(s.fecha_creacion)):h.value==="diasSistema"?(o=u.dias_en_sistema,g=s.dias_en_sistema):(o=u.estado,g=s.estado);return o==null?1:g==null?-1:(typeof o=="string"&&typeof g=="string"&&(o=o.toLowerCase(),g=g.toLowerCase()),o<g?C.value==="asc"?-1:1:o>g?C.value==="asc"?1:-1:0)})),p=[10,20,50,100],a=L(10),t=L(1),M=U(()=>Math.max(1,Math.ceil(y.value.length/a.value))),j=U(()=>{const u=(t.value-1)*a.value,s=u+a.value;return y.value.slice(u,s)});function A(){t.value>1&&t.value--}function D(){t.value<M.value&&t.value++}function Y(u){const s=Number(u.target.value);a.value=s,t.value=1}se([y,a],()=>{t.value=1}),se($,()=>{V()});async function V(){const u={patologo:$.value||void 0};await d(u)}function G(u){V()}function W(u){}const O=[{key:"codigo",label:"Código",class:"w-[12%]"},{key:"paciente",label:"Paciente",class:"w-[18%]"},{key:"entidad",label:"Entidad/Patólogo",class:"w-[15%]"},{key:"pruebas",label:"Pruebas",class:"w-[28%]"},{key:"estado",label:"Estado/Días",class:"w-[12%]"},{key:"fechaCreacion",label:"Fecha de creación",class:"w-[10%]"},{key:"acciones",label:"Acciones",class:"w-[15%]"}],w=u=>{h.value===u?C.value=C.value==="asc"?"desc":"asc":(h.value=u,C.value="asc")};function S(u){return u?new Date(u).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}function ee(u){const s=u.match(/^\d{6}/);return s?s[0]:u.split(" ")[0]}function T(u){const s={};return u.forEach(o=>{const g=ee(o);s[g]=(s[g]||0)+1}),Object.entries(s).map(([o,g])=>({code:o,count:g}))}function ie(u,s,o){const g=ee(s),ne=u.filter(R=>ee(R)===g).map(R=>R.includes(" - ")?R.split(" - ").slice(1).join(" - "):R).filter(Boolean),J=Array.from(new Set(ne));return`${J.length?J.join(", "):`Código ${g}`} • ${o} vez${o>1?"es":""}`}function le(u){const s=u.dias_en_sistema;return u.estado==="Requiere cambios"?"Requiere cambios":s>6&&u.estado!=="Completado"?"URGENTE":u.estado}function de(u){const s=u.dias_en_sistema;return u.estado==="Requiere cambios"||s>6&&u.estado!=="Completado"?"bg-red-50 text-red-700 font-semibold":u.estado==="Por firmar"?"bg-yellow-50 text-yellow-700":u.estado==="Por entregar"?"bg-orange-50 text-orange-700":u.estado==="En proceso"?"bg-blue-50 text-blue-700":u.estado==="Completado"?"bg-green-50 text-green-700":""}function ce(u){return u.dias_en_sistema>6&&u.estado!=="Completado"?"bg-red-50 text-red-700":"bg-blue-50 text-blue-700"}function ue(u){n("edit",u),v.push(`/cases/edit/${u.codigo}`)}function pe(u){n("perform",u),v.push(`/results/perform?case=${u.codigo}&auto=1`)}function me(u){n("validate",u),v.push(`/results/sign?case=${u.codigo}&auto=1`)}return Q(()=>{V()}),(u,s)=>(c(),K(l(oe),{class:"overflow-hidden"},{default:q(()=>[e("div",dt,[e("div",ct,[e("div",ut,[s[1]||(s[1]=e("h3",{class:"text-base sm:text-lg font-semibold text-gray-800"},"Casos urgentes",-1)),e("p",pt,i(l(_)?"Cargando...":`${y.value.length} casos urgentes (>6 días)`),1),s[2]||(s[2]=e("p",{class:"text-xs text-gray-400"},null,-1))]),e("div",mt,[I(je,{modelValue:$.value,"onUpdate:modelValue":s[0]||(s[0]=o=>$.value=o),label:"Patólogo",placeholder:"Todos los Patólogos",onPathologistSelected:G,onLoadError:W},null,8,["modelValue"])])])]),e("div",gt,[l(_)?(c(),m("div",xt,[...s[3]||(s[3]=[e("div",{class:"relative"},[e("svg",{class:"animate-spin h-8 w-8 sm:h-12 sm:w-12 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})])],-1),e("div",{class:"text-center px-4"},[e("h3",{class:"text-base sm:text-lg font-semibold text-gray-800 mb-2"},"Cargando casos urgentes..."),e("p",{class:"text-sm text-gray-600"},"Obteniendo datos desde el servidor")],-1)])])):l(b)?(c(),m("div",ft,[s[6]||(s[6]=e("div",{class:"relative"},[e("svg",{class:"h-8 w-8 sm:h-12 sm:w-12 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",ht,[s[5]||(s[5]=e("h3",{class:"text-base sm:text-lg font-semibold text-red-800 mb-2"},"Error al cargar casos urgentes",-1)),e("p",yt,i(l(b)),1),e("button",{onClick:V,class:"inline-flex items-center px-4 py-2 border border-red-300 text-red-700 bg-red-50 rounded-lg font-medium hover:bg-red-100 transition-colors text-sm"},[...s[4]||(s[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),P(" Intentar nuevamente ",-1)])])])])):(c(),m("div",vt,[e("div",_t,[e("table",bt,[e("thead",null,[e("tr",Ct,[(c(),m(Z,null,H(O,o=>e("th",{key:o.key,class:B(["px-2 py-2 text-center text-gray-700",o.class])},[e("button",{class:"flex items-center gap-1 font-medium text-gray-600 text-sm hover:text-gray-700 justify-center w-full",onClick:g=>w(o.key)},[P(i(o.label)+" ",1),h.value===o.key?(c(),m("span",kt,i(C.value==="asc"?"▲":"▼"),1)):E("",!0)],8,wt)],2)),64))])]),e("tbody",$t,[(c(!0),m(Z,null,H(j.value,o=>(c(),m("tr",{key:o.codigo,class:"hover:bg-gray-50"},[e("td",Mt,[e("span",Lt,i(o.codigo),1)]),e("td",jt,[e("div",null,[e("p",Et,i(o.paciente.nombre),1),e("p",Pt,i(o.paciente.cedula),1)])]),e("td",At,[e("p",It,i(o.paciente.entidad||"Entidad"),1),e("p",Bt,i(o.patologo||"No asignado"),1)]),e("td",St,[e("div",Nt,[(c(!0),m(Z,null,H(T(o.pruebas).slice(0,4),(g,F)=>(c(),m("span",{key:F,class:"test-badge inline-flex items-center justify-center bg-gray-100 text-gray-700 font-mono text-xs px-2 py-1 rounded border text-nowrap relative min-w-0 flex-shrink-0",title:ie(o.pruebas,g.code,g.count)},[e("span",zt,i(ee(g.code)),1),g.count>1?(c(),m("span",Tt,i(g.count),1)):E("",!0)],8,Vt))),128)),T(o.pruebas).length>4?(c(),m("span",{key:0,class:"inline-flex items-center justify-center bg-blue-50 text-blue-600 font-mono text-xs px-2 py-1 rounded border",title:`${T(o.pruebas).length-4} pruebas más`}," +"+i(T(o.pruebas).length-4),9,Ut)):E("",!0)])]),e("td",Dt,[e("span",{class:B(["inline-flex items-center justify-center rounded-full px-3 py-1 text-xs font-medium w-full",de(o)])},i(le(o)),3),e("p",{class:B(["text-xs font-medium px-2 py-0.5 rounded-full inline-block mt-1",ce(o)])},i(o.dias_en_sistema)+" días ",3)]),e("td",Ot,[e("p",Ft,i(S(o.fecha_creacion)),1)]),e("td",Rt,[e("div",Zt,[e("button",{class:"p-1.5 rounded-md hover:bg-green-50 text-green-700",onClick:z(()=>n("show-details",o),["stop"]),title:"Ver detalles"},[...s[7]||(s[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,Ht),e("button",{class:"p-1.5 rounded-md hover:bg-green-50 text-green-700",onClick:z(g=>ue(o),["stop"]),title:"Editar caso"},[...s[8]||(s[8]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])],8,qt),o.estado==="En proceso"?(c(),m("button",{key:0,class:"p-1.5 rounded-md hover:bg-green-50 text-green-700",onClick:z(g=>pe(o),["stop"]),title:"Realizar resultados"},[...s[9]||(s[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)])],8,Yt)):E("",!0),["Por firmar","Requiere cambios"].includes(o.estado)?(c(),m("button",{key:1,class:"p-1.5 rounded-md hover:bg-green-50 text-green-700",onClick:z(g=>me(o),["stop"]),title:o.estado==="Por firmar"?"Realizar validación del informe":"Validar"},[o.estado==="Por firmar"?(c(),m("svg",Wt,[...s[10]||(s[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"},null,-1)])])):(c(),m("svg",Jt,[...s[11]||(s[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],8,Gt)):E("",!0)])])]))),128))])])]),e("div",Kt,[e("div",Qt,[(c(!0),m(Z,null,H(j.value,o=>(c(),m("div",{key:o.codigo,class:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",Xt,[e("div",es,[e("h4",ts,i(o.codigo),1),e("p",ss,i(o.paciente.nombre),1),e("p",os,i(o.paciente.cedula),1)]),e("div",as,[e("span",{class:B(["inline-flex items-center justify-center rounded-full px-2 py-1 text-xs font-medium",de(o)])},i(le(o)),3)])]),e("div",rs,[e("div",null,[s[12]||(s[12]=e("p",{class:"text-gray-500"},"Entidad",-1)),e("p",ns,i(o.paciente.entidad||"Entidad"),1)]),e("div",null,[s[13]||(s[13]=e("p",{class:"text-gray-500"},"Patólogo",-1)),e("p",is,i(o.patologo||"No asignado"),1)]),e("div",null,[s[14]||(s[14]=e("p",{class:"text-gray-500"},"Fecha creación",-1)),e("p",ls,i(S(o.fecha_creacion)),1)]),e("div",null,[s[15]||(s[15]=e("p",{class:"text-gray-500"},"Días en sistema",-1)),e("p",{class:B(["text-gray-800 font-medium",ce(o)])},i(o.dias_en_sistema)+" días ",3)])]),e("div",ds,[s[16]||(s[16]=e("p",{class:"text-gray-500 text-xs mb-2"},"Pruebas",-1)),e("div",cs,[(c(!0),m(Z,null,H(T(o.pruebas).slice(0,6),(g,F)=>(c(),m("span",{key:F,class:"test-badge inline-flex items-center justify-center bg-gray-100 text-gray-700 font-mono text-xs px-2 py-1 rounded border relative min-w-0 flex-shrink-0",title:ie(o.pruebas,g.code,g.count)},[e("span",ps,i(ee(g.code)),1),g.count>1?(c(),m("span",ms,i(g.count),1)):E("",!0)],8,us))),128)),T(o.pruebas).length>6?(c(),m("span",{key:0,class:"inline-flex items-center justify-center bg-blue-50 text-blue-600 font-mono text-xs px-2 py-1 rounded border",title:`${T(o.pruebas).length-6} pruebas más`}," +"+i(T(o.pruebas).length-6),9,gs)):E("",!0)])]),e("div",xs,[e("button",{class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-xs font-medium",onClick:z(()=>n("show-details",o),["stop"])},[...s[17]||(s[17]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),P(" Ver detalles ",-1)])],8,fs),e("button",{class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors text-xs font-medium",onClick:z(g=>ue(o),["stop"])},[...s[18]||(s[18]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),P(" Editar ",-1)])],8,hs),o.estado==="En proceso"?(c(),m("button",{key:0,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-purple-50 text-purple-700 rounded-lg hover:bg-purple-100 transition-colors text-xs font-medium",onClick:z(g=>pe(o),["stop"])},[...s[19]||(s[19]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),P(" Realizar ",-1)])],8,ys)):E("",!0),["Por firmar","Requiere cambios"].includes(o.estado)?(c(),m("button",{key:1,class:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-orange-50 text-orange-700 rounded-lg hover:bg-orange-100 transition-colors text-xs font-medium",onClick:z(g=>me(o),["stop"])},[...s[20]||(s[20]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),P(" Validar ",-1)])],8,vs)):E("",!0)])]))),128)),y.value.length===0?(c(),m("div",_s,[e("div",bs,[s[22]||(s[22]=e("svg",{class:"w-12 h-12 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",Cs,[s[21]||(s[21]=e("p",{class:"text-gray-500 text-sm font-medium"},"¡Excelente! No hay casos urgentes",-1)),e("p",ws,i($.value?"Para el patólogo seleccionado":"En los últimos 1000 casos"),1)])])])):E("",!0)])]),e("div",ks,[e("div",$s,[e("div",Ms,[s[23]||(s[23]=e("span",null,"Mostrando",-1)),e("select",{value:a.value,onChange:Y,class:"h-8 rounded-lg border border-gray-300 bg-white px-2 py-1 text-sm text-gray-700"},[(c(),m(Z,null,H(p,o=>e("option",{key:o,value:o},i(o),9,js)),64))],40,Ls),e("span",null,"de "+i(y.value.length)+" resultados",1)]),e("div",Es,[e("button",{onClick:A,disabled:t.value===1,class:"px-3 py-1.5 border rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors"},[...s[24]||(s[24]=[e("span",{class:"hidden sm:inline"},"Anterior",-1),e("span",{class:"sm:hidden"},"←",-1)])],8,Ps),e("div",As,[s[25]||(s[25]=e("span",{class:"hidden sm:inline"},"Página",-1)),e("span",Is,i(t.value),1),s[26]||(s[26]=e("span",{class:"hidden sm:inline"},"de",-1)),e("span",Bs,i(M.value),1),e("span",Ss,"/ "+i(M.value),1)]),e("button",{onClick:D,disabled:t.value===M.value,class:"px-3 py-1.5 border rounded-lg text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors"},[...s[27]||(s[27]=[e("span",{class:"hidden sm:inline"},"Siguiente",-1),e("span",{class:"sm:hidden"},"→",-1)])],8,Ns)])])])]))])]),_:1}))}}),zs=ae(Vs,[["__scopeId","data-v-52e33d95"]]),Ts={class:"px-4 pt-4 bg-white shadow-default rounded-2xl pb-0 sm:px-5 sm:pt-5 flex-1 flex flex-col"},Us={class:"mb-3 flex-shrink-0"},Ds={class:"mt-1 text-gray-500 text-xs"},Os={key:0,class:"flex items-center justify-center flex-1"},Fs={key:1,class:"flex items-center justify-center flex-1"},Rs={class:"text-center"},Zs={class:"mt-2 text-sm text-gray-600"},Hs={key:2,class:"flex-1 flex flex-col justify-center"},qs={class:"relative flex-1 flex items-center justify-center min-h-[200px]"},Ys={id:"chartTwo",class:"h-full w-full flex items-center justify-center"},Gs={class:"radial-bar-chart"},Ws={class:"mx-auto mt-1 w-full max-w-[320px] text-center text-xs text-gray-500 transition-colors duration-300 flex-shrink-0"},Js={key:0,class:"flex items-center justify-center gap-3 px-4 py-2.5 sm:gap-4 sm:px-5 bg-gray-50 rounded-b-2xl flex-shrink-0"},Ks={class:"group transition-all duration-300 hover:scale-105"},Qs={class:"flex items-center justify-center gap-1 text-sm font-semibold text-gray-800 transition-colors duration-300 group-hover:text-blue-600"},Xs={class:"group transition-all duration-300 hover:scale-105"},eo={class:"flex items-center justify-center gap-1 text-sm font-semibold text-gray-800 transition-colors duration-300 group-hover:text-blue-600"},to={class:"group transition-all duration-300 hover:scale-105"},so={class:"flex items-center justify-center gap-1 text-sm font-semibold text-gray-800 transition-colors duration-300 group-hover:text-blue-600"},oo={class:"group transition-all duration-300 hover:scale-105"},ao={class:"flex items-center justify-center gap-1 text-sm font-semibold text-gray-800 transition-colors duration-300 group-hover:text-blue-600"},ro=X({__name:"ProgressPercentage",setup(k){const{estadisticasOportunidad:r,loadingOportunidad:n,error:x,cargarEstadisticasOportunidad:_}=re(),f=r,d=L(!1),v=ke(),b=U(()=>["h-full flex flex-col",typeof v.class=="string"?v.class:""].filter(Boolean).join(" "));se(f,y=>{},{immediate:!0});const $=async()=>{await _(),await ve(),d.value=!0},h=U(()=>{if(!f.value)return[0];const y=f.value.porcentaje_oportunidad;return[typeof y=="number"?y:0]}),C={colors:["#3D8D5B"],chart:{fontFamily:"Outfit, sans-serif",sparkline:{enabled:!0},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,hollow:{size:"80%"},track:{background:"#E4E7EC",strokeWidth:"100%",margin:5},dataLabels:{name:{show:!1},value:{fontSize:"36px",fontWeight:"600",offsetY:60,color:"#1D2939",formatter:function(y){return y.toFixed(2)+"%"}}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#7FCB97"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round",width:2},labels:["Oportunidad"],states:{hover:{filter:{type:"darken",value:.9}}}};return Q(()=>{$()}),(y,p)=>(c(),K(l(oe),{class:B(b.value)},{default:q(()=>{var a,t,M,j,A,D,Y,V,G,W,O,w;return[e("div",Ts,[e("div",Us,[e("div",null,[p[0]||(p[0]=e("h3",{class:"text-base font-semibold text-gray-800"},"Oportunidad de atención",-1)),e("p",Ds,i(((t=(a=l(f))==null?void 0:a.mes_anterior)==null?void 0:t.nombre)||"Mes anterior")+" - Porcentaje de casos procesados dentro del tiempo de oportunidad ",1)])]),l(n)?(c(),m("div",Os,[...p[1]||(p[1]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e("span",{class:"ml-2 text-gray-600 text-sm mt-2 block"},"Cargando datos...")],-1)])])):l(x)?(c(),m("div",Fs,[e("div",Rs,[p[2]||(p[2]=e("svg",{class:"mx-auto h-10 w-10 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),e("p",Zs,i(l(x)),1),e("button",{onClick:$,class:"mt-3 px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm"}," Reintentar ")])])):(c(),m("div",Hs,[e("div",qs,[e("div",Ys,[e("div",Gs,[!l(n)&&!l(x)&&l(f)?(c(),K(l(he),{key:0,type:"radialBar",height:"280",options:C,series:h.value,class:"transition-all duration-500 hover:scale-105"},null,8,["series"])):E("",!0)])]),e("span",{class:B(["absolute left-1/2 top-[85%] -translate-x-1/2 -translate-y-[85%] rounded-full px-2 py-0.5 text-xs font-medium transition-all duration-300",(((M=l(f))==null?void 0:M.cambio_porcentual)||0)>0?"bg-green-50 text-green-600 hover:bg-green-100":(((j=l(f))==null?void 0:j.cambio_porcentual)||0)<0?"bg-red-50 text-red-600 hover:bg-red-100":"bg-gray-50 text-gray-600 hover:bg-gray-100"])},i((((A=l(f))==null?void 0:A.cambio_porcentual)||0)>0?"+":"")+i(((D=l(f))==null?void 0:D.cambio_porcentual)||0)+"% ",3)]),e("p",Ws," Progreso en el cumplimiento de tiempos de oportunidad ("+i(((V=(Y=l(f))==null?void 0:Y.mes_anterior)==null?void 0:V.nombre)||"Mes anterior")+") ",1)]))]),!l(n)&&!l(x)?(c(),m("div",Js,[e("div",Ks,[p[3]||(p[3]=e("p",{class:"mb-1 text-center text-gray-500 text-xs transition-colors duration-300 group-hover:text-gray-700"}," Total casos ",-1)),e("p",Qs,i(((G=l(f))==null?void 0:G.total_casos_mes_anterior)||0),1)]),p[10]||(p[10]=e("div",{class:"w-px bg-gray-200 h-6"},null,-1)),e("div",Xs,[p[5]||(p[5]=e("p",{class:"mb-1 text-center text-gray-500 text-xs transition-colors duration-300 group-hover:text-gray-700"}," Tiempo promedio ",-1)),e("p",eo,[P(i(((W=l(f))==null?void 0:W.tiempo_promedio)||0)+" ",1),p[4]||(p[4]=e("span",{class:"text-xs text-gray-500"},"días",-1))])]),p[11]||(p[11]=e("div",{class:"w-px bg-gray-200 h-6"},null,-1)),e("div",to,[p[7]||(p[7]=e("p",{class:"mb-1 text-center text-gray-500 text-xs transition-colors duration-300 group-hover:text-gray-700"}," Dentro de oportunidad ",-1)),e("p",so,[P(i(((O=l(f))==null?void 0:O.casos_dentro_oportunidad)||0)+" ",1),p[6]||(p[6]=e("svg",{class:"transition-transform duration-300 group-hover:translate-y-[-2px]",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.60141 2.33683C7.73885 2.18084 7.9401 2.08243 8.16435 2.08243C8.16475 2.08243 8.16516 2.08243 8.16556 2.08243C8.35773 2.08219 8.54998 2.15535 8.69664 2.30191L12.6968 6.29924C12.9898 6.59203 12.9899 7.0669 12.6971 7.3599C12.4044 7.6529 11.9295 7.65306 11.6365 7.36027L8.91435 4.64004L8.91435 13.5C8.91435 13.9142 8.57856 14.25 8.16435 14.25C7.75013 14.25 7.41435 13.9142 7.41435 13.5L7.41435 4.64442L4.69679 7.36025C4.4038 7.65305 3.92893 7.6529 3.63613 7.35992C3.34333 7.06693 3.34348 6.59206 3.63646 6.29926L7.60141 2.33683Z",fill:"#039855"})],-1))])]),p[12]||(p[12]=e("div",{class:"w-px bg-gray-200 h-6"},null,-1)),e("div",oo,[p[9]||(p[9]=e("p",{class:"mb-1 text-center text-gray-500 text-xs transition-colors duration-300 group-hover:text-gray-700"}," Fuera de oportunidad ",-1)),e("p",ao,[P(i(((w=l(f))==null?void 0:w.casos_fuera_oportunidad)||0)+" ",1),p[8]||(p[8]=e("svg",{class:"transition-transform duration-300 group-hover:translate-y-[-2px]",width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7.26816 13.6632C7.4056 13.8192 7.60686 13.9176 7.8311 13.9176C7.83148 13.9176 7.83187 13.9176 7.83226 13.9176C8.02445 13.9178 8.21671 13.8447 8.36339 13.6981L12.3635 9.70076C12.6565 9.40797 12.6567 8.9331 12.3639 8.6401C12.0711 8.34711 11.5962 8.34694 11.3032 8.63973L8.5811 11.36L8.5811 2.5C8.5811 2.08579 8.24531 1.75 7.8311 1.75C7.41688 1.75 7.0811 1.46079 7.0811 1.75L7.0811 11.3556L4.36354 8.63975C4.07055 8.34695 3.59568 8.3471 3.30288 8.64009C3.01008 8.93307 3.01023 9.40794 3.30321 9.70075L7.26816 13.6632Z",fill:"#D92D20"})],-1))])])])):E("",!0)]}),_:1},8,["class"]))}}),no=ae(ro,[["__scopeId","data-v-029d168a"]]),io={class:"absolute top-0 left-0 bg-red-500 text-white p-2 text-xs z-50"},lo={class:"sticky top-0 z-10 bg-white border-b border-gray-200 px-6 py-4 rounded-t-2xl flex items-center justify-between"},co={class:"p-6 space-y-6"},uo={class:"grid grid-cols-2 gap-4 bg-gray-50 rounded-xl p-4"},po={class:"text-base font-medium text-gray-900"},mo={class:"text-base font-medium text-red-700"},go={class:"text-base font-medium text-gray-900"},xo={class:"text-base font-medium text-gray-900"},fo={class:"text-base font-medium text-gray-900"},ho={class:"text-base font-medium text-gray-900"},yo={class:"text-base font-medium text-gray-900"},vo={class:"bg-gray-50 rounded-xl p-4 space-y-3"},_o={key:0,class:"space-y-3"},bo={class:"text-sm font-medium text-gray-900"},Co={key:1,class:"text-sm text-gray-500"},wo={class:"bg-gray-50 rounded-xl p-4 space-y-2"},ko={class:"grid grid-cols-2 gap-3"},$o={class:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 rounded-b-2xl flex flex-col sm:flex-row sm:justify-between gap-3"},Mo={class:"flex gap-2"},Lo={class:"flex gap-2 justify-end"},jo=X({__name:"UrgentCaseDetailsModal",props:{caseItem:{}},emits:["close","edit","preview"],setup(k,{emit:r}){const n=k,x=r;se(()=>n.caseItem,a=>{a&&f()},{immediate:!0});const _=L();function f(){_.value&&ve(()=>{var a;(a=_.value)==null||a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})}se(()=>n.caseItem,a=>{a&&f()},{immediate:!0});function d(a){return a?new Date(a).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}function v(a){return a.dias_en_sistema>6&&a.estado!=="Completado"?"text-red-700":"text-blue-700"}function b(a){const t=a.dias_en_sistema;return t>6&&a.estado!=="Completado"?"text-red-700 font-semibold":t>4&&a.estado!=="Completado"?"text-orange-700 font-medium":"text-green-700"}function $(a){const t=a.dias_en_sistema;return t>6&&a.estado!=="Completado"?"CRÍTICA":t>4&&a.estado!=="Completado"?"ALTA":"NORMAL"}function h(a){const t=a.dias_en_sistema;return t>6&&a.estado!=="Completado"?"text-red-700 font-semibold":t>4&&a.estado!=="Completado"?"text-orange-700 font-medium":"text-green-700"}function C(a){const t=a.dias_en_sistema;return t>6&&a.estado!=="Completado"?`${t-6} días de retraso`:t>4&&a.estado!=="Completado"?`${6-t} días restantes`:"Dentro del tiempo límite"}function y(a){const t=a.match(/^\d{6}/);return t?t[0]:a.split(" - ")[0]}function p(a){const t=a.split(" - ");return t.length>1?t.slice(1).join(" - "):a}return(a,t)=>(c(),K($e,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 transform scale-95","enter-to-class":"opacity-100 transform scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-95"},{default:q(()=>{var M;return[a.caseItem?(c(),m("div",{key:0,class:"fixed inset-0 z-50 flex items-start justify-center p-4 pt-20",onClick:t[4]||(t[4]=z(j=>x("close"),["self"]))},[e("div",io," Modal visible - caseItem: "+i((M=a.caseItem)==null?void 0:M.codigo),1),e("div",{ref_key:"modalContent",ref:_,class:"relative bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto overflow-x-hidden"},[e("div",lo,[t[5]||(t[5]=e("h3",{class:"text-xl font-semibold text-gray-900"},"Detalles del Caso",-1)),e("button",{onClick:t[0]||(t[0]=j=>x("close")),class:"text-gray-400 hover:text-gray-600"},"✕")]),e("div",co,[e("div",uo,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-500"},"Código del Caso",-1)),e("p",po,i(a.caseItem.codigo),1)]),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-500"},"Estado",-1)),e("p",mo,i(a.caseItem.estado),1)]),e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-500"},"Nombre del Paciente",-1)),e("p",go,i(a.caseItem.paciente.nombre),1)]),e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-500"},"Cédula",-1)),e("p",xo,i(a.caseItem.paciente.cedula),1)]),e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-500"},"Entidad",-1)),e("p",fo,i(a.caseItem.paciente.entidad||"No especificada"),1)]),e("div",null,[t[11]||(t[11]=e("p",{class:"text-sm text-gray-500"},"Patólogo Asignado",-1)),e("p",ho,i(a.caseItem.patologo||"Sin asignar"),1)]),e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm text-gray-500"},"Fecha de Creación",-1)),e("p",yo,i(d(a.caseItem.fecha_creacion)),1)]),e("div",null,[t[13]||(t[13]=e("p",{class:"text-sm text-gray-500"},"Días en Sistema",-1)),e("p",{class:B(["text-base font-medium text-gray-900",v(a.caseItem)])},i(a.caseItem.dias_en_sistema)+" días ",3)])]),e("div",vo,[t[14]||(t[14]=e("h5",{class:"text-sm font-medium text-gray-700"},"Pruebas Solicitadas",-1)),a.caseItem.pruebas&&a.caseItem.pruebas.length?(c(),m("div",_o,[(c(!0),m(Z,null,H(a.caseItem.pruebas,(j,A)=>(c(),m("div",{key:A,class:"border border-gray-200 rounded-lg p-3 bg-white"},[e("span",bo,i(y(j))+" - "+i(p(j)),1)]))),128))])):(c(),m("div",Co,"Sin pruebas registradas"))]),e("div",wo,[t[17]||(t[17]=e("h5",{class:"text-sm font-medium text-gray-700"},"Información de Urgencia",-1)),e("div",ko,[e("div",null,[t[15]||(t[15]=e("p",{class:"text-sm text-gray-500"},"Prioridad",-1)),e("p",{class:B(["text-sm font-medium text-gray-900",b(a.caseItem)])},i($(a.caseItem)),3)]),e("div",null,[t[16]||(t[16]=e("p",{class:"text-sm text-gray-500"},"Tiempo Restante",-1)),e("p",{class:B(["text-sm font-medium text-gray-900",h(a.caseItem)])},i(C(a.caseItem)),3)])])])]),e("div",$o,[e("div",Mo,[I(Ee,{text:"Previsualizar Informe",onClick:t[1]||(t[1]=j=>x("preview",a.caseItem))})]),e("div",Lo,[I(fe,{variant:"secondary",text:"Cerrar",onAction:t[2]||(t[2]=j=>x("close"))}),I(fe,{text:"Editar Caso",onAction:t[3]||(t[3]=j=>x("edit",a.caseItem))})])])],512)])):E("",!0)]}),_:1}))}});async function _e(){try{try{await N.get("/health")}catch{}try{await N.get("/casos/estadisticas")}catch(k){console.error("❌ Error en estadísticas de casos:",k)}try{await N.get("/pacientes/estadisticas")}catch(k){console.error("❌ Error en estadísticas de pacientes:",k)}try{await N.get("/casos/",{params:{limite:5}})}catch(k){console.error("❌ Error en lista de casos:",k)}}catch(k){console.error("💥 Error general de conexión:",k)}}window.testBackendConnection=_e;const Eo={class:"grid grid-cols-12 gap-4 md:gap-6 p-6 bg-gray-50 min-h-screen"},Po={class:"col-span-12 space-y-4 xl:col-span-7"},Ao={class:"flex-shrink-0"},Io={class:"flex-1"},Bo={class:"col-span-12 xl:col-span-5"},So={class:"h-full"},No={class:"col-span-12"},Vo=X({__name:"DashboardView",setup(k){re();const r=ye(),n=L(null);function x(b){n.value=b}function _(){n.value=null}function f(b){r.push(`/cases/edit/${b.codigo}`)}function d(b){r.push(`/results/perform?case=${b.codigo}`)}function v(b){r.push(`/results/sign?case=${b.codigo}`)}return Q(async()=>{await _e()}),(b,$)=>(c(),K(Le,null,{default:q(()=>[e("div",Eo,[e("div",Po,[e("div",Ao,[I(He)]),e("div",Io,[I(lt)])]),e("div",Bo,[e("div",So,[I(no)])]),e("div",No,[I(zs,{onShowDetails:x,onEdit:f,onPerform:d,onValidate:v})])]),I(jo,{"case-item":n.value,onClose:_,onEdit:f,onPreview:d},null,8,["case-item"])]),_:1}))}}),Ho=ae(Vo,[["__scopeId","data-v-a9a80c7a"]]);export{Ho as default};
